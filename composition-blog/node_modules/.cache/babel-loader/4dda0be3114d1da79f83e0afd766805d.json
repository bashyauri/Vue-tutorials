{"remainingRequest":"C:\\Users\\Manager 1\\Documents\\GitHub\\Vue-tutorials\\composition-blog\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Manager 1\\Documents\\GitHub\\Vue-tutorials\\composition-blog\\src\\composables\\getPost.js","dependencies":[{"path":"C:\\Users\\Manager 1\\Documents\\GitHub\\Vue-tutorials\\composition-blog\\src\\composables\\getPost.js","mtime":1660109838767},{"path":"C:\\Users\\Manager 1\\Documents\\GitHub\\Vue-tutorials\\composition-blog\\babel.config.js","mtime":1659265307015},{"path":"C:\\Users\\Manager 1\\Documents\\GitHub\\Vue-tutorials\\composition-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659265155212},{"path":"C:\\Users\\Manager 1\\Documents\\GitHub\\Vue-tutorials\\composition-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":1659265191116}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgeyByZWYgfSBmcm9tICJ2dWUiOwppbXBvcnQgeyBwcm9qZWN0RmlyZXN0b3JlIH0gZnJvbSAiLi4vZmlyZWJhc2UvY29uZmlnIjsKCmNvbnN0IGdldFBvc3QgPSBpZCA9PiB7CiAgY29uc3QgcG9zdCA9IHJlZihudWxsKTsKICBjb25zdCBlcnJvciA9IHJlZihudWxsKTsKCiAgY29uc3QgbG9hZCA9IGFzeW5jICgpID0+IHsKICAgIHRyeSB7CiAgICAgIC8vIGxldCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwOi8vbG9jYWxob3N0OjMwMDAvcG9zdHMvJHtpZH1gKTsKICAgICAgLy8gaWYgKCFyZXNwb25zZS5vaykgewogICAgICAvLyAgIHRocm93IEVycm9yKCJOb3Qgc3VjY2Vzc2Z1bCIpOwogICAgICAvLyB9CiAgICAgIC8vIHBvc3QudmFsdWUgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICAgIGxldCByZXMgPSBhd2FpdCBwcm9qZWN0RmlyZXN0b3JlLmNvbGxlY3Rpb24oInBvc3RzIikuZG9jKGlkKS5nZXQoKTsKCiAgICAgIGlmICghcmVzLmV4aXN0cykgewogICAgICAgIHRocm93IEVycm9yKCJUaGUgcG9zdCBkb2VzIG5vdCBleGlzdCIpOwogICAgICB9CgogICAgICBwb3N0LnZhbHVlID0geyAuLi5yZXMuZGF0YSgpLAogICAgICAgIGlkOiByZXMuaWQKICAgICAgfTsKICAgICAgY29uc29sZS5sb2cocG9zdC52YWx1ZSk7CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgZXJyb3IudmFsdWUgPSBlcnIubWVzc2FnZTsKICAgICAgY29uc29sZS5jb25zb2xlLmxvZyhlcnJvci52YWx1ZSk7CiAgICB9CiAgfTsKCiAgcmV0dXJuIHsKICAgIHBvc3QsCiAgICBlcnJvciwKICAgIGxvYWQKICB9Owp9OwoKZXhwb3J0IGRlZmF1bHQgZ2V0UG9zdDs="},{"version":3,"names":["ref","projectFirestore","getPost","id","post","error","load","res","collection","doc","get","exists","Error","value","data","console","log","err","message"],"sources":["C:/Users/Manager 1/Documents/GitHub/Vue-tutorials/composition-blog/src/composables/getPost.js"],"sourcesContent":["import { ref } from \"vue\";\r\nimport { projectFirestore } from \"../firebase/config\";\r\nconst getPost = (id) => {\r\n  const post = ref(null);\r\n  const error = ref(null);\r\n  const load = async () => {\r\n    try {\r\n      // let response = await fetch(`http://localhost:3000/posts/${id}`);\r\n\r\n      // if (!response.ok) {\r\n      //   throw Error(\"Not successful\");\r\n      // }\r\n      // post.value = await response.json();\r\n      let res = await projectFirestore.collection(\"posts\").doc(id).get();\r\n      if (!res.exists) {\r\n        throw Error(\"The post does not exist\");\r\n      }\r\n      post.value = { ...res.data(), id: res.id };\r\n      console.log(post.value);\r\n    } catch (err) {\r\n      error.value = err.message;\r\n      console.console.log(error.value);\r\n    }\r\n  };\r\n  return { post, error, load };\r\n};\r\nexport default getPost;\r\n"],"mappings":";AAAA,SAASA,GAAT,QAAoB,KAApB;AACA,SAASC,gBAAT,QAAiC,oBAAjC;;AACA,MAAMC,OAAO,GAAIC,EAAD,IAAQ;EACtB,MAAMC,IAAI,GAAGJ,GAAG,CAAC,IAAD,CAAhB;EACA,MAAMK,KAAK,GAAGL,GAAG,CAAC,IAAD,CAAjB;;EACA,MAAMM,IAAI,GAAG,YAAY;IACvB,IAAI;MACF;MAEA;MACA;MACA;MACA;MACA,IAAIC,GAAG,GAAG,MAAMN,gBAAgB,CAACO,UAAjB,CAA4B,OAA5B,EAAqCC,GAArC,CAAyCN,EAAzC,EAA6CO,GAA7C,EAAhB;;MACA,IAAI,CAACH,GAAG,CAACI,MAAT,EAAiB;QACf,MAAMC,KAAK,CAAC,yBAAD,CAAX;MACD;;MACDR,IAAI,CAACS,KAAL,GAAa,EAAE,GAAGN,GAAG,CAACO,IAAJ,EAAL;QAAiBX,EAAE,EAAEI,GAAG,CAACJ;MAAzB,CAAb;MACAY,OAAO,CAACC,GAAR,CAAYZ,IAAI,CAACS,KAAjB;IACD,CAbD,CAaE,OAAOI,GAAP,EAAY;MACZZ,KAAK,CAACQ,KAAN,GAAcI,GAAG,CAACC,OAAlB;MACAH,OAAO,CAACA,OAAR,CAAgBC,GAAhB,CAAoBX,KAAK,CAACQ,KAA1B;IACD;EACF,CAlBD;;EAmBA,OAAO;IAAET,IAAF;IAAQC,KAAR;IAAeC;EAAf,CAAP;AACD,CAvBD;;AAwBA,eAAeJ,OAAf"}]}