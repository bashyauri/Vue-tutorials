{"remainingRequest":"C:\\Users\\Manager 1\\Documents\\GitHub\\Vue-tutorials\\composition-blog\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Manager 1\\Documents\\GitHub\\Vue-tutorials\\composition-blog\\src\\composables\\getPosts.js","dependencies":[{"path":"C:\\Users\\Manager 1\\Documents\\GitHub\\Vue-tutorials\\composition-blog\\src\\composables\\getPosts.js","mtime":1660116283919},{"path":"C:\\Users\\Manager 1\\Documents\\GitHub\\Vue-tutorials\\composition-blog\\babel.config.js","mtime":1659265307015},{"path":"C:\\Users\\Manager 1\\Documents\\GitHub\\Vue-tutorials\\composition-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659265155212},{"path":"C:\\Users\\Manager 1\\Documents\\GitHub\\Vue-tutorials\\composition-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":1659265191116}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVmIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgcHJvamVjdEZpcmVzdG9yZSB9IGZyb20gIi4uL2ZpcmViYXNlL2NvbmZpZyI7Cgpjb25zdCBnZXRQb3N0cyA9ICgpID0+IHsKICBjb25zdCBwb3N0cyA9IHJlZihbXSk7CiAgY29uc3QgZXJyb3IgPSByZWYobnVsbCk7CgogIGNvbnN0IGxvYWQgPSBhc3luYyAoKSA9PiB7CiAgICB0cnkgewogICAgICAvLyBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL3Bvc3RzIik7CiAgICAgIC8vIGlmICghcmVzcG9uc2Uub2spIHsKICAgICAgLy8gICB0aHJvdyBFcnJvcigiTm90IHN1Y2Nlc3NmdWwiKTsKICAgICAgLy8gfQogICAgICAvLyBwb3N0cy52YWx1ZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgY29uc3QgcmVzID0gYXdhaXQgcHJvamVjdEZpcmVzdG9yZS5jb2xsZWN0aW9uKCJwb3N0cyIpLm9yZGVyQnkoImNyZWF0ZWRBdCIsICJkZXNjIikuZ2V0KCk7CiAgICAgIHBvc3RzLnZhbHVlID0gcmVzLmRvY3MubWFwKGRvYyA9PiB7CiAgICAgICAgLy9jb25zb2xlLmxvZyhkb2MuZGF0YSgpKTsKICAgICAgICByZXR1cm4geyAuLi5kb2MuZGF0YSgpLAogICAgICAgICAgaWQ6IGRvYy5pZAogICAgICAgIH07CiAgICAgIH0pOwogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIGVycm9yLnZhbHVlID0gZXJyLm1lc3NhZ2U7CiAgICAgIGNvbnNvbGUuY29uc29sZS5sb2coZXJyb3IudmFsdWUpOwogICAgfQogIH07CgogIHJldHVybiB7CiAgICBwb3N0cywKICAgIGVycm9yLAogICAgbG9hZAogIH07Cn07CgpleHBvcnQgZGVmYXVsdCBnZXRQb3N0czs="},{"version":3,"names":["ref","projectFirestore","getPosts","posts","error","load","res","collection","orderBy","get","value","docs","map","doc","data","id","err","message","console","log"],"sources":["C:/Users/Manager 1/Documents/GitHub/Vue-tutorials/composition-blog/src/composables/getPosts.js"],"sourcesContent":["import { ref } from \"vue\";\r\nimport { projectFirestore } from \"../firebase/config\";\r\nconst getPosts = () => {\r\n  const posts = ref([]);\r\n  const error = ref(null);\r\n  const load = async () => {\r\n    try {\r\n      // let response = await fetch(\"http://localhost:3000/posts\");\r\n      // if (!response.ok) {\r\n      //   throw Error(\"Not successful\");\r\n      // }\r\n      // posts.value = await response.json();\r\n      const res = await projectFirestore\r\n        .collection(\"posts\")\r\n        .orderBy(\"createdAt\", \"desc\")\r\n        .get();\r\n      posts.value = res.docs.map((doc) => {\r\n        //console.log(doc.data());\r\n        return { ...doc.data(), id: doc.id };\r\n      });\r\n    } catch (err) {\r\n      error.value = err.message;\r\n      console.console.log(error.value);\r\n    }\r\n  };\r\n  return { posts, error, load };\r\n};\r\nexport default getPosts;\r\n"],"mappings":"AAAA,SAASA,GAAT,QAAoB,KAApB;AACA,SAASC,gBAAT,QAAiC,oBAAjC;;AACA,MAAMC,QAAQ,GAAG,MAAM;EACrB,MAAMC,KAAK,GAAGH,GAAG,CAAC,EAAD,CAAjB;EACA,MAAMI,KAAK,GAAGJ,GAAG,CAAC,IAAD,CAAjB;;EACA,MAAMK,IAAI,GAAG,YAAY;IACvB,IAAI;MACF;MACA;MACA;MACA;MACA;MACA,MAAMC,GAAG,GAAG,MAAML,gBAAgB,CAC/BM,UADe,CACJ,OADI,EAEfC,OAFe,CAEP,WAFO,EAEM,MAFN,EAGfC,GAHe,EAAlB;MAIAN,KAAK,CAACO,KAAN,GAAcJ,GAAG,CAACK,IAAJ,CAASC,GAAT,CAAcC,GAAD,IAAS;QAClC;QACA,OAAO,EAAE,GAAGA,GAAG,CAACC,IAAJ,EAAL;UAAiBC,EAAE,EAAEF,GAAG,CAACE;QAAzB,CAAP;MACD,CAHa,CAAd;IAID,CAdD,CAcE,OAAOC,GAAP,EAAY;MACZZ,KAAK,CAACM,KAAN,GAAcM,GAAG,CAACC,OAAlB;MACAC,OAAO,CAACA,OAAR,CAAgBC,GAAhB,CAAoBf,KAAK,CAACM,KAA1B;IACD;EACF,CAnBD;;EAoBA,OAAO;IAAEP,KAAF;IAASC,KAAT;IAAgBC;EAAhB,CAAP;AACD,CAxBD;;AAyBA,eAAeH,QAAf"}]}